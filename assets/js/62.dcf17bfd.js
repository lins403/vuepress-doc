(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{463:function(t,s,a){"use strict";a.r(s);var e=a(43),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"npm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm"}},[t._v("#")]),t._v(" npm")]),t._v(" "),a("h2",{attrs:{id:"命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令"}},[t._v("#")]),t._v(" 命令")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 列出所以可以更新的package")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" outdated\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# view/v/show/info")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" view vue\n")])])]),a("h3",{attrs:{id:"npm-install"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm-install"}},[t._v("#")]),t._v(" "),a("code",[t._v("npm install")])]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" -h\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# arg")]),t._v("\n-S, --save\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#default in npm5+, but -P(--save-prod) in npm6?")]),t._v("\n-D, --save--dev\n-g, --global\n-E, --save-exact\n--no-save\n-f, --force\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#force npm to fetch remote resources even if a local copy exists on disk.")]),t._v("\n--registry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("域名"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# @<tag>|@<version>|@<version range>")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" sax@latest\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" sax@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('">=0.1.0 <0.2.0"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# <tarball file>")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" ./myPackage.tgz\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#.tar/.tar.gz/.tgz")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# <alias>@npm:<name>")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" vue2@npm:vue@2\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" vue3@npm:vue@next\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --target_arch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("x64\n")])])]),a("p",[a("a",{attrs:{href:"https://docs.npmjs.com/cli/v7/commands/npm-install#configuration",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm-install > configuration"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"从github"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#从github"}},[t._v("#")]),t._v(" 从github")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# install")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i lins403/vue2-cli-boilerplate\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i https://github.com/lins403/vue2-cli-boilerplate\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i git+https://github.com/lins403/vue2-cli-boilerplate.git\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i github:lins403/vue2-cli-boilerplate\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# specify branch")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lins403/vue2-cli-boilerplate#dev"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# uninstall")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" un vue2-cli-boilerplate\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#==================================================")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# from gitlab")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" gitlab:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("gitlabname"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("gitlabrepo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#<commit-ish>]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# from gist")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" gist:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("githubname"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("gistID"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#<commit-ish>|#semver:<semver>]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# from bitbucket")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" bitbucket:"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("bitbucketname"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("bitbucketrepo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#<commit-ish>]")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#==================================================")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# base")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("protocol"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("://"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("password"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("hostname"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("port"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#<commit-ish> | #semver:<semver>]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("protocol"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" is one of git, git+ssh, git+http, git+https, or git+file.\n")])])]),a("h4",{attrs:{id:"算法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#算法"}},[t._v("#")]),t._v(" 算法")]),t._v(" "),a("ol",[a("li",[t._v("从磁盘加载 node_modules，并克隆树（目录菜单树？）")]),t._v(" "),a("li",[t._v("获取 package.json 和其中的元数据，添加到克隆树上")]),t._v(" "),a("li",[t._v("遍历克隆树，然后添加没有被安装的依赖（不破坏其它模块的前提下，依赖会尽可能被添加到更接近顶层域上）")]),t._v(" "),a("li",[t._v("比较原来的树和克隆树，深度优先，比对然后执行 install, update, remove and move 等操作")]),t._v(" "),a("li",[a("s",[t._v("下载压缩包，存放在缓存目录（"),a("code",[t._v("~/.npm")]),t._v("），解压压缩包到当前项目的 "),a("code",[t._v("node_modules")]),t._v(" 目录")])])]),t._v(" "),a("h3",{attrs:{id:"npm-ci"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm-ci"}},[t._v("#")]),t._v(" "),a("code",[t._v("npm ci")])]),t._v(" "),a("blockquote",[a("p",[a("strong",[a("code",[t._v("npm ci")])]),t._v(" (named after "),a("strong",[t._v("C")]),t._v("ontinuous "),a("strong",[t._v("I")]),t._v("ntegration) installs dependencies directly from "),a("code",[t._v("package-lock.json")]),t._v(" and uses "),a("code",[t._v("package.json")]),t._v(" only to validate that there are no mismatched versions. "),a("strong",[t._v("If any dependencies are missing or have incompatible versions, it will throw an error")]),t._v(".")]),t._v(" "),a("p",[t._v("Use "),a("code",[t._v("npm ci")]),t._v(" if you need a deterministic, repeatable build. For example during continuous integration, automated jobs, etc. and when installing dependencies for the first time, instead of "),a("code",[t._v("npm install")]),t._v(".")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# .travis.yml")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("install")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" npm ci\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#to build using npm ci instead of npm install")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# keep the npm cache around to speed up installs")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("cache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("directories")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$HOME/.npm"')]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#https://github.com/actions/cache/issues/67")]),t._v("\n")])])]),a("h3",{attrs:{id:"其它"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其它"}},[t._v("#")]),t._v(" 其它")]),t._v(" "),a("h4",{attrs:{id:"npm-shrinkwrap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm-shrinkwrap"}},[t._v("#")]),t._v(" "),a("code",[t._v("npm shrinkwrap")])]),t._v(" "),a("p",[t._v("npm-shrinkwrap.json （npm5以前用来lock版本的）")]),t._v(" "),a("h4",{attrs:{id:"npm-prune"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm-prune"}},[t._v("#")]),t._v(" "),a("code",[t._v("npm prune")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 或者将 NODE_ENV 环境变量设置为production")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" prune --production\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#remove the packages specified in your devDependencies.")]),t._v("\n")])])]),a("h2",{attrs:{id:"cache"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cache"}},[t._v("#")]),t._v(" cache")]),t._v(" "),a("p",[a("code",[t._v("npm install")]),t._v(" 或 "),a("code",[t._v("npm update")]),t._v(" 命令，会生成cache。")]),t._v(" "),a("p",[t._v("从 registry 下载压缩包之后，"),a("s",[t._v("都存放在本地的缓存目录")]),t._v("。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看缓存地址")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" config get cache\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ~/.npm")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# *只是奇怪为什么我的tarball实际上是放在~/.npminstall_tarball中，~/.npm中的像哈希文件or ETag?")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" cache verify\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Cache verified and compressed (~/.npm/_cacache):")]),t._v("\n \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# add cache")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" cache "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("tarball file"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">|")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("folder"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">|")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("tarball url"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">|")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("git url"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">|")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("@"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("version"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 清除缓存")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" cache clean --force\n")])])]),a("h3",{attrs:{id:"ci"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ci"}},[t._v("#")]),t._v(" CI")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://docs.github.com/cn/actions/advanced-guides/caching-dependencies-to-speed-up-workflows#example-using-the-cache-action",target:"_blank",rel:"noopener noreferrer"}},[t._v("Caching dependencies to speed up workflows - GitHub Docs"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://lins403.github.io/vuepress-doc/notes/engineering/CI-CD/gitlab-ci.html#cache",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitLab CI/CD | 小眯嘻的文档博客"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"npmrc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npmrc"}},[t._v("#")]),t._v(" .npmrc")]),t._v(" "),a("p",[t._v("查看npm配置："),a("code",[t._v("npm config ls -l")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("lock"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//在安装时忽略lock文件。")]),t._v("\nloglevel"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("timing；      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 安装依赖包的时候指定日志的类型")]),t._v("\n")])])]),a("p",[a("a",{attrs:{href:"https://docs.npmjs.com/cli/v6/using-npm/config",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm v6 配置文档"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"package-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#package-json"}},[t._v("#")]),t._v(" package.json")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.npmjs.com/cli/v8/configuring-npm/package-json",target:"_blank",rel:"noopener noreferrer"}},[t._v("package.json | npm Docs"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"与-semver-range-operator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#与-semver-range-operator"}},[t._v("#")]),t._v(" ~ 与 ^ ( semver range operator)")]),t._v(" "),a("p",[t._v("Tilde Range (limits updates to the most recent patch-level version)")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("~1.5.2")]),t._v(" := [1.5.2, 1.6.0)")])]),t._v(" "),a("p",[t._v("Caret Range")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("^1.5.2")]),t._v(" := [1.5.2, 2.0.0)")])]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("Patch releases: "),a("code",[t._v("1.0")]),t._v(" or "),a("code",[t._v("1.0.x")]),t._v(" or "),a("code",[t._v("~1.0.4")])]),t._v(" "),a("li",[t._v("Minor releases: "),a("code",[t._v("1")]),t._v(" or "),a("code",[t._v("1.x")]),t._v(" or "),a("code",[t._v("^1.0.4")])]),t._v(" "),a("li",[t._v("Major releases: "),a("code",[t._v("*")]),t._v(" or "),a("code",[t._v("x")])])])]),t._v(" "),a("h2",{attrs:{id:"nrm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nrm"}},[t._v("#")]),t._v(" nrm")]),t._v(" "),a("p",[t._v("管理切换仓库源，包括npm的私有服")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" nrm -g --save\n")])])]),a("h2",{attrs:{id:"升级-npm7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#升级-npm7"}},[t._v("#")]),t._v(" 升级 npm7")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.blog/2021-02-02-npm-7-is-now-generally-available/",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm 7 is now generally available! | The GitHub Blo"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 回退版本")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --global npm@6\n")])])]),a("h4",{attrs:{id:"_1-peerdependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-peerdependencies"}},[t._v("#")]),t._v(" 1）peerDependencies")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" ERR"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" Could not resolve dependency:\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" ERR"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" peer eslint@"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('">=7.0.0"')]),t._v(" from eslint-config-prettier@7.2.0\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# npm 7 will block installations if an upstream dependency conflict is present that cannot be automatically resolved.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# You have the option to retry with --force to bypass the conflict or --legacy-peer-deps command to ignore peer dependencies entirely (this behavior is similar to versions 4-6).")]),t._v("\n")])])]),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --force\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --legacy-peer-deps\n\nnpx install-peerdeps --dev \n")])])]),a("p",[a("a",{attrs:{href:"https://yarn.bootcss.com/docs/dependency-types/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Dependencies类型"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.cn/post/6844904134248759309",target:"_blank",rel:"noopener noreferrer"}},[t._v("一文搞懂peerDependencies"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/237532427",target:"_blank",rel:"noopener noreferrer"}},[t._v("npm与yarn对peerDependencies处理的差异"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"_2-node与node-sass的兼容性问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-node与node-sass的兼容性问题"}},[t._v("#")]),t._v(" 2）node与node-sass的兼容性问题")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("NodeJS")]),t._v(" "),a("th",[t._v("Supported node-sass version")]),t._v(" "),a("th",[t._v("Node Module")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Node 14")]),t._v(" "),a("td",[t._v("4.14+")]),t._v(" "),a("td",[t._v("83")])]),t._v(" "),a("tr",[a("td",[t._v("Node 12")]),t._v(" "),a("td",[t._v("4.12+")]),t._v(" "),a("td",[t._v("72")])]),t._v(" "),a("tr",[a("td",[t._v("Node 10")]),t._v(" "),a("td",[t._v("4.9+, <6.0")]),t._v(" "),a("td",[t._v("64")])])])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 修改 node-sass 为 dart-sass")]),t._v("\n-    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"node-sass"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.9.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n+    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sass"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1.30.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("h2",{attrs:{id:"更换镜像源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更换镜像源"}},[t._v("#")]),t._v(" 更换镜像源")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" registry https://registry.npm.taobao.org/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" config get registry\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" config "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" registry https://registry.npmjs.org\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 临时")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("package-name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" --registry https://registry.npmjs.org\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" outdated --registry https://skimdb.npmjs.com/registry\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);