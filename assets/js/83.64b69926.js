(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{484:function(t,s,a){"use strict";a.r(s);var n=a(43),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"进阶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进阶"}},[t._v("#")]),t._v(" 进阶")]),t._v(" "),a("h2",{attrs:{id:"严格模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#严格模式"}},[t._v("#")]),t._v(" 严格模式")]),t._v(" "),a("p",[t._v("严格模式是 ES5 引入的，不属于 ES6")]),t._v(" "),a("p",[t._v("严格模式主要有以下限制。")]),t._v(" "),a("ul",[a("li",[t._v("变量必须声明后再使用")]),t._v(" "),a("li",[t._v("函数的参数不能有同名属性，否则报错")]),t._v(" "),a("li",[t._v("不能使用"),a("code",[t._v("with")]),t._v("语句")]),t._v(" "),a("li",[t._v("不能对只读属性赋值，否则报错")]),t._v(" "),a("li",[t._v("不能使用前缀 0 表示八进制数，否则报错")]),t._v(" "),a("li",[t._v("不能删除不可删除的属性，否则报错")]),t._v(" "),a("li",[t._v("不能删除变量"),a("code",[t._v("delete prop")]),t._v("，会报错，只能删除属性"),a("code",[t._v("delete global[prop]")])]),t._v(" "),a("li",[a("code",[t._v("eval")]),t._v("不会在它的外层作用域引入变量")]),t._v(" "),a("li",[a("code",[t._v("eval")]),t._v("和"),a("code",[t._v("arguments")]),t._v("不能被重新赋值")]),t._v(" "),a("li",[a("code",[t._v("arguments")]),t._v("不会自动反映函数参数的变化")]),t._v(" "),a("li",[t._v("不能使用"),a("code",[t._v("arguments.callee")])]),t._v(" "),a("li",[t._v("不能使用"),a("code",[t._v("arguments.caller")])]),t._v(" "),a("li",[t._v("禁止"),a("code",[t._v("this")]),t._v("指向全局对象（如果在全局函数中调用，则 this 在非严格模式下等于 window，在严格模式下等于undefined）")]),t._v(" "),a("li",[t._v("不能使用"),a("code",[t._v("fn.caller")]),t._v("和"),a("code",[t._v("fn.arguments")]),t._v("获取函数调用的堆栈")]),t._v(" "),a("li",[t._v("增加了保留字（比如"),a("code",[t._v("protected")]),t._v("、"),a("code",[t._v("static")]),t._v("和"),a("code",[t._v("interface")]),t._v("）")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://es6.ruanyifeng.com/#docs/module#%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"}},[t._v("ECMAScript 6 入门 > Module > 严格模式"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"私有变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#私有变量"}},[t._v("#")]),t._v(" 私有变量")]),t._v(" "),a("p",[t._v("私有变量包括函数参数、局部变量，以及函数内部定义的其他函数。")]),t._v(" "),a("p",[t._v("特权方法 (privileged method) 是能够访问函数私有变量(及私有函数)的公有方法，实现方式有几种：")]),t._v(" "),a("ol",[a("li",[t._v("闭包：所有私有变量和私有函数都定义在"),a("strong",[t._v("构造函数")]),t._v("中，再创建一个能够访问这些私有成员的特权方法\n"),a("ul",[a("li",[t._v("构建开销相对会大一点，每个实例都会重新创建一遍新方法和变量")])])]),t._v(" "),a("li",[t._v("IIFE：通过使用"),a("strong",[t._v("私有作用域")]),t._v("定义私有变量和函数来实现，特权方法定义在prototype原型上，被实例共享\n"),a("ul",[a("li",[t._v("本质上是基于原型模式自定义类型，然后使用IIFE进行封装这个类和私有变量，私有变量就只能在这个IIFE的作用域内（的类）被访问和操作）")])])]),t._v(" "),a("li",[t._v("也可以通过模块模式或模块增强模式，返回一个单例对象，在单例对象上实现")]),t._v(" "),a("li",[t._v("最简单的方式是私有变量名的命名约定，例如在变量名前加上"),a("code",[t._v("_")]),t._v(" ；更多实现还有使用ES6中WeakMap、Symbol、Proxy的方式")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://juejin.cn/post/6844903565769572366",target:"_blank",rel:"noopener noreferrer"}},[t._v("[译] JavaScript 中的私有变量"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("使用闭包和私有变量会导致作用域链变长，作用域链越长，则查找变量所需的时间也越多。")])]),t._v(" "),a("p",[t._v("例子：在私有作用域中的实现")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Example "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" _private "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Example")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      _private "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'private'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" _private"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ex "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Example")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// private")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_private"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// undefined")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);