(window.webpackJsonp=window.webpackJsonp||[]).push([[175],{573:function(e,t,s){"use strict";s.r(t);var a=s(43),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"vuecli-config"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuecli-config"}},[e._v("#")]),e._v(" VueCli Config")]),e._v(" "),s("p",[e._v("安装")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" -g @vue/cli\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("#")]),e._v("\nvue --version\nvue "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" -h\nvue serve -h\nvue build -h\nvue create "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("project-name"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])])]),s("h2",{attrs:{id:"service"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#service"}},[e._v("#")]),e._v(" Service")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/blob/dev/packages/%40vue/cli-service/lib/Service.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue-cli/Service.js at dev · vuejs/vue-cli · GitHub"),s("OutboundLink")],1)]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("npx vue-cli-service "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("help")]),e._v("\n")])])]),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[e._v("  "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// development")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"serve"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"vue-cli-service serve"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// production")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"build"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"vue-cli-service build"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// test")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"test"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"vue-cli-service test:unit"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// eslint")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"lint"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"vue-cli-service lint"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n")])])]),s("h3",{attrs:{id:"模式和环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模式和环境变量"}},[e._v("#")]),e._v(" 模式和环境变量")]),e._v(" "),s("p",[e._v("node "),s("code",[e._v("process.env")])]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/motdotla/dotenv",target:"_blank",rel:"noopener noreferrer"}},[e._v("dotenv"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/motdotla/dotenv-expand",target:"_blank",rel:"noopener noreferrer"}},[e._v("dotenv-expand"),s("OutboundLink")],1)])]),e._v(" "),s("p",[e._v("源码："),s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/blob/dev/packages/%40vue/cli-service/lib/Service.js#L58",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue-cli/Service.js#L58 at dev · vuejs/vue-cli · GitHub"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("文档："),s("strong",[s("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/mode-and-env.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("模式和环境变量"),s("OutboundLink")],1)])]),e._v(" "),s("p",[e._v("扩展：")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.npmjs.com/package/cross-env",target:"_blank",rel:"noopener noreferrer"}},[e._v("cross-env"),s("OutboundLink")],1),e._v(": Cross platform setting of environment scripts")]),e._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/kentcdodds/cross-env/issues/56#issuecomment-280095704",target:"_blank",rel:"noopener noreferrer"}},[e._v("How is cross-env different from dotenv ?"),s("OutboundLink")],1)])]),e._v(" "),s("h2",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[e._v("#")]),e._v(" 配置")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-service/lib/config",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue-cli/packages/@vue/cli-service/lib/config at dev · vuejs/vue-cli · GitHub"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/blob/3f0b782bca7df17740b72509c42e5e2ea6562ac9/packages/%40vue/cli-service/lib/config/base.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("base 配置"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/blob/f9863409739c8917b24c4844432f984d68877c63/packages/@vue/cli-service/lib/config/app.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("dev 配置"),s("OutboundLink")],1)]),e._v(" "),s("h2",{attrs:{id:"plugins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#plugins"}},[e._v("#")]),e._v(" plugins")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/@vue/cli-service/lib/webpack",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue-cli/packages/@vue/cli-service/lib/webpack at dev · vuejs/vue-cli · GitHub"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("@vue/preload-webpack-plugin")]),e._v(" "),s("p",[e._v("case-sensitive-paths-webpack-plugin")]),e._v(" "),s("p",[e._v("copy-webpack-plugin")]),e._v(" "),s("p",[e._v("html-webpack-plugin")]),e._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[e._v("  plugins"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// new HtmlWebpackPlugin()")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("new")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("HtmlWebpackPlugin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      template"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[e._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("./src/pages/index.html")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[e._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      filename"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[e._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("hello.html")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[e._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n")])])]),s("p",[e._v("pnp-webpack-plugin")]),e._v(" "),s("p",[e._v("terser-webpack-plugin")]),e._v(" "),s("h3",{attrs:{id:"webpack-chain"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-chain"}},[e._v("#")]),e._v(" webpack-chain")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/neutrinojs/webpack-chain",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub - neutrinojs/webpack-chain: A chaining API to generate and simplify the modification of Webpack configurations."),s("OutboundLink")],1)]),e._v(" "),s("h2",{attrs:{id:"升级到vuecli4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#升级到vuecli4"}},[e._v("#")]),e._v(" 升级到VueCli4")]),e._v(" "),s("h3",{attrs:{id:"从-v3-迁移"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#从-v3-迁移"}},[e._v("#")]),e._v(" 从 v3 迁移")]),e._v(" "),s("p",[s("code",[e._v("npm outdate")]),e._v(" 查看可以更新的 npm packages")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/PanJiaChen/vue-element-admin/pull/3028",target:"_blank",rel:"noopener noreferrer"}},[e._v("bump: update to vue-cli@4 by dihak · Pull Request #3028 · PanJiaChen/vue-element-admin · GitHub"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/vuejs/vue-cli/issues/3649",target:"_blank",rel:"noopener noreferrer"}},[e._v("Roadmap for Vue-cli4"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://cli.vuejs.org/migrating-from-v3/",target:"_blank",rel:"noopener noreferrer"}},[e._v("migrating-from-v3"),s("OutboundLink")],1)])]),e._v(" "),s("h3",{attrs:{id:"修改-node-sass-为-dart-sass"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改-node-sass-为-dart-sass"}},[e._v("#")]),e._v(" 修改 node-sass 为 dart-sass")]),e._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[e._v("-    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"node-sass"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"^4.9.0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n+    "),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"sass"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"1.30.0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token property"}},[e._v('"sass-loader"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v('"10.1.0"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n")])])]),s("p",[e._v("deep selectors 原本使用的 "),s("code",[e._v("/deep/")]),e._v(" 与 "),s("code",[e._v(">>>")]),e._v(" 要全部替换为 "),s("code",[e._v("::v-deep")])]),e._v(" "),s("p",[s("a",{attrs:{href:"https://vue-loader.vuejs.org/zh/guide/scoped-css.html#scoped-css",target:"_blank",rel:"noopener noreferrer"}},[e._v("Vue Loader > Scoped CSS"),s("OutboundLink")],1)]),e._v(" "),s("h3",{attrs:{id:"babel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#babel"}},[e._v("#")]),e._v(" babel")]),e._v(" "),s("p",[e._v("移除 @babel/core ，使用 core.js@3")]),e._v(" "),s("h3",{attrs:{id:"webpack-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-4"}},[e._v("#")]),e._v(" webpack 4")]),e._v(" "),s("p",[e._v("webpack 4 内置分包策略，一定程度上智能的帮你做了代码分包")]),e._v(" "),s("p",[e._v("我理解分块的意义在于可以利用浏览器缓存（304）依赖或共用组件；实现业务代码组件的懒加载")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://panjiachen.github.io/vue-element-admin-site/zh/guide/advanced/webpack.html#webpack-%E6%8C%87%E5%8D%97",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue-element-admin > Webpack 指南"),s("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);