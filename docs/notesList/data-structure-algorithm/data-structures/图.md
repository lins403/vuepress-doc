# 图

## 基本概念

线性表可以是空表，树可以是空树，但图不可以是空图

- 有向图、无向图
- 简单图：既不含平行边也不含自环的图
- 多重图
- 完全图（简单完全图）
- 连通、连通图、连通分量
  - 连通图：任意两个顶点都是连通的
  - 连通分量：无向图中的极大连通子图
- 强连通图、强连通分量
  - 针对有向图而言
- 网
  - 边上带有权值的图称为带权图，也称为网
- 有向无环图（Directed Acycline Graph，DAG）：一个有向图中不存在环
- AOV网（Activity On Vertex NetWork）
  - 用顶点表示活动，边表示活动（顶点）发生的先后关系。
  - AOV网的边不设权值，若存在边<a,b>则表示活动a必须发生在活动b之前。
- AOE网（Activity On Edge Network）
  - 是边表示活动的网，AOE网是带权有向无环图。边代表活动（边有权值），顶点代表所有指向它的边所代表的活动均已完成这一事件。
  - 由于整个工程只有一个起点和一个终点，网中只有一个入度为0的点（源点）和一个出度为0的点（汇点）。

## 存储

### 邻接矩阵法

- 用一个一维数组存储顶点的信息，用一个二维数组存储图中边的信息（即各顶点之间的邻接关系），这个二维数组称为邻接矩阵
- 适合稠密图。当一个图为稀疏图时，会浪费大量的存储空间
- 很容易确定图中任意两个顶点之间是否有相连，但要确定图中有多少边，则必须按行、按列对每个时间进行检测，所花费的时间代价很大

### 邻接表法

- 大大减少了存储空间不必要的浪费
- 边表结点
  - 对图中每个顶点建立一个单链表，这个单链表就称为该顶点的“边表”
  - 邻接点域、指针域(指向下一条邻接边的指针域)
- 顶点表结点
  - 边表的头指针和顶点的数据信息，采用顺序存储（称为“顶点表”）
  - 顶点域、边表头指针(指向第一条邻接边的指针域)
- 给定一顶点，只需要读取它的邻接表，就能很容易找出它的所有邻边
- 在有向图的邻接表表示中，求一个给定顶点的出度，只需计算邻接表中的结点个数，但求其顶点的入度，则需遍历全部的邻接表



### 十字链表

- 既容易找到Vi为尾的弧，又容易找到为头的弧，因而容易求得顶点的出度和入度
- 图的十字链表表示不是唯一的，但一个十字链表表示确定一个图



### 邻接多重表

- 无向图的另一种链式存储结构
- 在邻接多重表中，所有依附于同一顶点的边串联在同一链表中，由于每条边依附于两个顶点，因此每个边结点同时链接在两个链表中。
- 对无向图而言，其邻接多重表和邻接表的差别仅在于，同一条边在邻接表中用两个结点表示，而在邻接多重表中只有一个结点。



### 基本操作

- 判断图G中是否存在边<x,y>
- 列出图G中与结点x邻接的边
- 插入顶点、删除顶点
- ...



## 遍历

### 广度优先搜索

Breadth-First-Search, BFS，按距离由近及远遍历，是二叉树层次遍历的扩展

- BFS算法的性能分析
  - 无论是邻接表还是邻接矩阵的存储方式，BFS算法都需要借助一个辅助队列Q
  - 空间复杂度 Q(|V|)
  - 时间复杂度
- 单资源最短路径问题
- 广度优先生成树
  - 邻接矩阵存储表示是唯一的，邻接表存储表示不唯一

### 深度优先搜索

Depth-First-Search, DFS，类似于树的先序遍历

- DFS算法的性能分析
  - 递归算法，需要借助一个递归工作栈
  - 空间复杂度 Q(|V|)
  - 时间复杂度：邻接表 Q(|V|+|E|)，邻接矩阵存储 Q(|V|^2)
- 深度优先的生成树和生成森林
  - 对连通图和非连通图调用DFS



### 图的遍历与图的连通性

添加第2个for循环，再选取初始点，继续进行遍历，以防止一次无法遍历图的所有顶点



## 应用

### 最小生成树

Minimum-Spanning-Tree，MST，带权连通图，权值之和最小

**最小生成树算法**

- Prime算法
  - 从顶点开始扩展
- Kruskal算法
  - 按权值的递增次序选择合适的边来构造最小生成树的办法
- 二者都是基于贪心算法的策略



### 最短路径

带权路径长度最短的路径

带权有向图G的最短路径问题一般分为2类：

1. 单资源最短路径，即求图中某个顶点到其他各顶点的最短路径
   - Dijkstra算法
2. 每对顶点间的最短路径
   - Floyd算法



### 拓扑排序

拓扑排序:在图论中,由一个有向无环图的顶点组成的序列,当且仅当满足下列条件时,称为该图的一个拓扑排序:

① 每个顶点出现且只出现一次。

② 若顶点A在序列中排在顶点B的前面,则在图中不存在从顶点B到顶点A的路径。

或定义为: 拓扑排序是对有向无环图的顶点的一种排序，它使得若存在一条从顶点A到顶点B的路径，则在排序中顶点B出现在顶点A的后面。每个AOV网都有一个或多个拓扑排序序列。



### 关键路径

- 在AOE网中仅有一个入度为0的顶点，称为开始顶点（源点），它表示整个工程的开始；

- 网中也仅存在一个出度为0的顶点，称为结束顶点（汇点），它表示整个工程的结束。

从源点到汇点的所有路径中，具有最大路径长度的路径称为关键路径，而把关键路径上的活动称为关键活动。

完成整个工程的最短时间就是关键路径的长度，即关键路径上各活动花费开销的总和。
