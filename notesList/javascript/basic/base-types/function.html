<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Function | 小眯嘻的文档博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/vuepress-doc/assets/img/config/favicon.png">
    <meta name="description" content="学习&思考&总结">
    
    <link rel="preload" href="/vuepress-doc/assets/css/0.styles.d770c3b5.css" as="style"><link rel="preload" href="/vuepress-doc/assets/js/app.9fb27f3b.js" as="script"><link rel="preload" href="/vuepress-doc/assets/js/2.92a218c7.js" as="script"><link rel="preload" href="/vuepress-doc/assets/js/112.72636f45.js" as="script"><link rel="prefetch" href="/vuepress-doc/assets/js/10.fea52fac.js"><link rel="prefetch" href="/vuepress-doc/assets/js/100.9eae5f01.js"><link rel="prefetch" href="/vuepress-doc/assets/js/101.c93d5f62.js"><link rel="prefetch" href="/vuepress-doc/assets/js/102.18a3a03e.js"><link rel="prefetch" href="/vuepress-doc/assets/js/103.135de95b.js"><link rel="prefetch" href="/vuepress-doc/assets/js/104.e53789cc.js"><link rel="prefetch" href="/vuepress-doc/assets/js/105.588484a9.js"><link rel="prefetch" href="/vuepress-doc/assets/js/106.0eb9dfed.js"><link rel="prefetch" href="/vuepress-doc/assets/js/107.98e38910.js"><link rel="prefetch" href="/vuepress-doc/assets/js/108.aa18923d.js"><link rel="prefetch" href="/vuepress-doc/assets/js/109.e4f139cf.js"><link rel="prefetch" href="/vuepress-doc/assets/js/11.e2052b65.js"><link rel="prefetch" href="/vuepress-doc/assets/js/110.d384d30a.js"><link rel="prefetch" href="/vuepress-doc/assets/js/111.d6c31b17.js"><link rel="prefetch" href="/vuepress-doc/assets/js/113.94c2eecb.js"><link rel="prefetch" href="/vuepress-doc/assets/js/114.c04fd062.js"><link rel="prefetch" href="/vuepress-doc/assets/js/115.21896da6.js"><link rel="prefetch" href="/vuepress-doc/assets/js/116.7e15ca17.js"><link rel="prefetch" href="/vuepress-doc/assets/js/117.073dc223.js"><link rel="prefetch" href="/vuepress-doc/assets/js/118.0668b789.js"><link rel="prefetch" href="/vuepress-doc/assets/js/119.468ee50d.js"><link rel="prefetch" href="/vuepress-doc/assets/js/12.062d1b43.js"><link rel="prefetch" href="/vuepress-doc/assets/js/120.184aa547.js"><link rel="prefetch" href="/vuepress-doc/assets/js/121.66d21177.js"><link rel="prefetch" href="/vuepress-doc/assets/js/122.7e820b8d.js"><link rel="prefetch" href="/vuepress-doc/assets/js/123.8b9b72ab.js"><link rel="prefetch" href="/vuepress-doc/assets/js/124.47576793.js"><link rel="prefetch" href="/vuepress-doc/assets/js/125.937210b8.js"><link rel="prefetch" href="/vuepress-doc/assets/js/126.86ff762c.js"><link rel="prefetch" href="/vuepress-doc/assets/js/127.35ce1090.js"><link rel="prefetch" href="/vuepress-doc/assets/js/128.5360acb2.js"><link rel="prefetch" href="/vuepress-doc/assets/js/129.a086857d.js"><link rel="prefetch" href="/vuepress-doc/assets/js/13.91065d41.js"><link rel="prefetch" href="/vuepress-doc/assets/js/130.647162c2.js"><link rel="prefetch" href="/vuepress-doc/assets/js/131.a0c40e5f.js"><link rel="prefetch" href="/vuepress-doc/assets/js/132.e44bf949.js"><link rel="prefetch" href="/vuepress-doc/assets/js/133.8dfbe566.js"><link rel="prefetch" href="/vuepress-doc/assets/js/134.1dd471f5.js"><link rel="prefetch" href="/vuepress-doc/assets/js/135.50222b5a.js"><link rel="prefetch" href="/vuepress-doc/assets/js/136.6aff6624.js"><link rel="prefetch" href="/vuepress-doc/assets/js/137.91153589.js"><link rel="prefetch" href="/vuepress-doc/assets/js/138.c3f68bcd.js"><link rel="prefetch" href="/vuepress-doc/assets/js/139.e5c83df9.js"><link rel="prefetch" href="/vuepress-doc/assets/js/14.680bae8b.js"><link rel="prefetch" href="/vuepress-doc/assets/js/140.9e9933b1.js"><link rel="prefetch" href="/vuepress-doc/assets/js/141.88e68255.js"><link rel="prefetch" href="/vuepress-doc/assets/js/142.f1abb74b.js"><link rel="prefetch" href="/vuepress-doc/assets/js/143.763c858b.js"><link rel="prefetch" href="/vuepress-doc/assets/js/144.0e12bc42.js"><link rel="prefetch" href="/vuepress-doc/assets/js/145.4d81e02c.js"><link rel="prefetch" href="/vuepress-doc/assets/js/146.b4c9e033.js"><link rel="prefetch" href="/vuepress-doc/assets/js/147.1147a1d6.js"><link rel="prefetch" href="/vuepress-doc/assets/js/148.f4437060.js"><link rel="prefetch" href="/vuepress-doc/assets/js/149.ee71917d.js"><link rel="prefetch" href="/vuepress-doc/assets/js/15.a8efaede.js"><link rel="prefetch" href="/vuepress-doc/assets/js/150.c1a09c42.js"><link rel="prefetch" href="/vuepress-doc/assets/js/151.a2d1b66d.js"><link rel="prefetch" href="/vuepress-doc/assets/js/152.2c5d4d40.js"><link rel="prefetch" href="/vuepress-doc/assets/js/153.c309d5d0.js"><link rel="prefetch" href="/vuepress-doc/assets/js/154.6cda5dc3.js"><link rel="prefetch" href="/vuepress-doc/assets/js/155.774ca70d.js"><link rel="prefetch" href="/vuepress-doc/assets/js/156.712dc481.js"><link rel="prefetch" href="/vuepress-doc/assets/js/157.b86df157.js"><link rel="prefetch" href="/vuepress-doc/assets/js/158.4aa6d406.js"><link rel="prefetch" href="/vuepress-doc/assets/js/159.6234c5da.js"><link rel="prefetch" href="/vuepress-doc/assets/js/16.dfb86234.js"><link rel="prefetch" href="/vuepress-doc/assets/js/160.1bd9a4f2.js"><link rel="prefetch" href="/vuepress-doc/assets/js/161.d8e58d5d.js"><link rel="prefetch" href="/vuepress-doc/assets/js/162.c4ac3e6f.js"><link rel="prefetch" href="/vuepress-doc/assets/js/163.2cbf930b.js"><link rel="prefetch" href="/vuepress-doc/assets/js/164.02d69614.js"><link rel="prefetch" href="/vuepress-doc/assets/js/165.8b27a3f5.js"><link rel="prefetch" href="/vuepress-doc/assets/js/166.e0d73c56.js"><link rel="prefetch" href="/vuepress-doc/assets/js/167.733f599a.js"><link rel="prefetch" href="/vuepress-doc/assets/js/168.408413e7.js"><link rel="prefetch" href="/vuepress-doc/assets/js/169.6cd4b8c1.js"><link rel="prefetch" href="/vuepress-doc/assets/js/17.99ff476d.js"><link rel="prefetch" href="/vuepress-doc/assets/js/170.69d6ae62.js"><link rel="prefetch" href="/vuepress-doc/assets/js/171.9be0c2bf.js"><link rel="prefetch" href="/vuepress-doc/assets/js/172.2a403f8b.js"><link rel="prefetch" href="/vuepress-doc/assets/js/173.c219d2e9.js"><link rel="prefetch" href="/vuepress-doc/assets/js/174.a410e5fd.js"><link rel="prefetch" href="/vuepress-doc/assets/js/175.895724fb.js"><link rel="prefetch" href="/vuepress-doc/assets/js/176.753c112a.js"><link rel="prefetch" href="/vuepress-doc/assets/js/177.5ee20177.js"><link rel="prefetch" href="/vuepress-doc/assets/js/178.94dbcb07.js"><link rel="prefetch" href="/vuepress-doc/assets/js/179.74fc7145.js"><link rel="prefetch" href="/vuepress-doc/assets/js/18.a8467f5f.js"><link rel="prefetch" href="/vuepress-doc/assets/js/180.3d2eee69.js"><link rel="prefetch" href="/vuepress-doc/assets/js/181.eddaa2ba.js"><link rel="prefetch" href="/vuepress-doc/assets/js/182.f00efc4b.js"><link rel="prefetch" href="/vuepress-doc/assets/js/183.5cbd8406.js"><link rel="prefetch" href="/vuepress-doc/assets/js/184.c14338d8.js"><link rel="prefetch" href="/vuepress-doc/assets/js/185.a670aec3.js"><link rel="prefetch" href="/vuepress-doc/assets/js/186.1bd54f25.js"><link rel="prefetch" href="/vuepress-doc/assets/js/187.f17e9014.js"><link rel="prefetch" href="/vuepress-doc/assets/js/188.83ba8ede.js"><link rel="prefetch" href="/vuepress-doc/assets/js/189.50a23c5c.js"><link rel="prefetch" href="/vuepress-doc/assets/js/19.f70ca800.js"><link rel="prefetch" href="/vuepress-doc/assets/js/190.038acf1a.js"><link rel="prefetch" href="/vuepress-doc/assets/js/191.d5995e51.js"><link rel="prefetch" href="/vuepress-doc/assets/js/20.e28660a8.js"><link rel="prefetch" href="/vuepress-doc/assets/js/21.d5c12a61.js"><link rel="prefetch" href="/vuepress-doc/assets/js/22.674c6fff.js"><link rel="prefetch" href="/vuepress-doc/assets/js/23.c61d4934.js"><link rel="prefetch" href="/vuepress-doc/assets/js/24.ec675e36.js"><link rel="prefetch" href="/vuepress-doc/assets/js/25.01b6cfe4.js"><link rel="prefetch" href="/vuepress-doc/assets/js/26.95d03d57.js"><link rel="prefetch" href="/vuepress-doc/assets/js/27.15582102.js"><link rel="prefetch" href="/vuepress-doc/assets/js/28.05a9955b.js"><link rel="prefetch" href="/vuepress-doc/assets/js/29.991bcc6d.js"><link rel="prefetch" href="/vuepress-doc/assets/js/3.aa380f55.js"><link rel="prefetch" href="/vuepress-doc/assets/js/30.5b3fb42b.js"><link rel="prefetch" href="/vuepress-doc/assets/js/31.f2408aa5.js"><link rel="prefetch" href="/vuepress-doc/assets/js/32.81e30050.js"><link rel="prefetch" href="/vuepress-doc/assets/js/33.370683a2.js"><link rel="prefetch" href="/vuepress-doc/assets/js/34.2f178c60.js"><link rel="prefetch" href="/vuepress-doc/assets/js/35.026dd4f2.js"><link rel="prefetch" href="/vuepress-doc/assets/js/36.ad9dfdbf.js"><link rel="prefetch" href="/vuepress-doc/assets/js/37.fa982462.js"><link rel="prefetch" href="/vuepress-doc/assets/js/38.241ca5a9.js"><link rel="prefetch" href="/vuepress-doc/assets/js/39.3b3541a2.js"><link rel="prefetch" href="/vuepress-doc/assets/js/4.727843a1.js"><link rel="prefetch" href="/vuepress-doc/assets/js/40.0096afa1.js"><link rel="prefetch" href="/vuepress-doc/assets/js/41.8008aaf7.js"><link rel="prefetch" href="/vuepress-doc/assets/js/42.93dc8381.js"><link rel="prefetch" href="/vuepress-doc/assets/js/43.05dfdcf7.js"><link rel="prefetch" href="/vuepress-doc/assets/js/44.90db7e04.js"><link rel="prefetch" href="/vuepress-doc/assets/js/45.74563b70.js"><link rel="prefetch" href="/vuepress-doc/assets/js/46.a90d9fc3.js"><link rel="prefetch" href="/vuepress-doc/assets/js/47.6441eb0a.js"><link rel="prefetch" href="/vuepress-doc/assets/js/48.ff51460f.js"><link rel="prefetch" href="/vuepress-doc/assets/js/49.b5e15f4e.js"><link rel="prefetch" href="/vuepress-doc/assets/js/5.29375446.js"><link rel="prefetch" href="/vuepress-doc/assets/js/50.312c84f0.js"><link rel="prefetch" href="/vuepress-doc/assets/js/51.9c9b47a1.js"><link rel="prefetch" href="/vuepress-doc/assets/js/52.89e19ec0.js"><link rel="prefetch" href="/vuepress-doc/assets/js/53.7fe35b27.js"><link rel="prefetch" href="/vuepress-doc/assets/js/54.06f290d0.js"><link rel="prefetch" href="/vuepress-doc/assets/js/55.28ea138a.js"><link rel="prefetch" href="/vuepress-doc/assets/js/56.1f9094b3.js"><link rel="prefetch" href="/vuepress-doc/assets/js/57.db328cff.js"><link rel="prefetch" href="/vuepress-doc/assets/js/58.1372af02.js"><link rel="prefetch" href="/vuepress-doc/assets/js/59.34875a6c.js"><link rel="prefetch" href="/vuepress-doc/assets/js/6.68be3bed.js"><link rel="prefetch" href="/vuepress-doc/assets/js/60.ba4648ff.js"><link rel="prefetch" href="/vuepress-doc/assets/js/61.1d38e76a.js"><link rel="prefetch" href="/vuepress-doc/assets/js/62.8a6b547c.js"><link rel="prefetch" href="/vuepress-doc/assets/js/63.f4fbbfac.js"><link rel="prefetch" href="/vuepress-doc/assets/js/64.5ebc5860.js"><link rel="prefetch" href="/vuepress-doc/assets/js/65.2cd3b841.js"><link rel="prefetch" href="/vuepress-doc/assets/js/66.96091db4.js"><link rel="prefetch" href="/vuepress-doc/assets/js/67.dced9ff9.js"><link rel="prefetch" href="/vuepress-doc/assets/js/68.d39c08c1.js"><link rel="prefetch" href="/vuepress-doc/assets/js/69.1564592c.js"><link rel="prefetch" href="/vuepress-doc/assets/js/7.12b35d06.js"><link rel="prefetch" href="/vuepress-doc/assets/js/70.71cb3934.js"><link rel="prefetch" href="/vuepress-doc/assets/js/71.76ee86a3.js"><link rel="prefetch" href="/vuepress-doc/assets/js/72.dfa800bd.js"><link rel="prefetch" href="/vuepress-doc/assets/js/73.86408f65.js"><link rel="prefetch" href="/vuepress-doc/assets/js/74.a4b8a6ec.js"><link rel="prefetch" href="/vuepress-doc/assets/js/75.f4bf4745.js"><link rel="prefetch" href="/vuepress-doc/assets/js/76.826ce909.js"><link rel="prefetch" href="/vuepress-doc/assets/js/77.3bf89e11.js"><link rel="prefetch" href="/vuepress-doc/assets/js/78.803d2fdb.js"><link rel="prefetch" href="/vuepress-doc/assets/js/79.40fe61d9.js"><link rel="prefetch" href="/vuepress-doc/assets/js/8.c238af59.js"><link rel="prefetch" href="/vuepress-doc/assets/js/80.bed34dfb.js"><link rel="prefetch" href="/vuepress-doc/assets/js/81.1422fd35.js"><link rel="prefetch" href="/vuepress-doc/assets/js/82.e219002f.js"><link rel="prefetch" href="/vuepress-doc/assets/js/83.43345036.js"><link rel="prefetch" href="/vuepress-doc/assets/js/84.f01ad11b.js"><link rel="prefetch" href="/vuepress-doc/assets/js/85.5111c1f4.js"><link rel="prefetch" href="/vuepress-doc/assets/js/86.722a9add.js"><link rel="prefetch" href="/vuepress-doc/assets/js/87.6f0574b7.js"><link rel="prefetch" href="/vuepress-doc/assets/js/88.72b57615.js"><link rel="prefetch" href="/vuepress-doc/assets/js/89.6c9769b5.js"><link rel="prefetch" href="/vuepress-doc/assets/js/9.d01c9de7.js"><link rel="prefetch" href="/vuepress-doc/assets/js/90.2b23be39.js"><link rel="prefetch" href="/vuepress-doc/assets/js/91.6f255edb.js"><link rel="prefetch" href="/vuepress-doc/assets/js/92.b08449e5.js"><link rel="prefetch" href="/vuepress-doc/assets/js/93.65489d8c.js"><link rel="prefetch" href="/vuepress-doc/assets/js/94.1a3b7200.js"><link rel="prefetch" href="/vuepress-doc/assets/js/95.00a239ab.js"><link rel="prefetch" href="/vuepress-doc/assets/js/96.a7f5e4b8.js"><link rel="prefetch" href="/vuepress-doc/assets/js/97.fbfaeb12.js"><link rel="prefetch" href="/vuepress-doc/assets/js/98.da4f5fde.js"><link rel="prefetch" href="/vuepress-doc/assets/js/99.9520bc03.js">
    <link rel="stylesheet" href="/vuepress-doc/assets/css/0.styles.d770c3b5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-doc/" class="home-link router-link-active"><!----> <span class="site-name">小眯嘻的文档博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-doc/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="系列笔记" class="dropdown-title"><span class="title">系列笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="系列笔记" class="mobile-dropdown-title"><span class="title">系列笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          综合
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-doc/notes/engineering/" class="nav-link">
  前端工程化
</a></li><li class="dropdown-subitem"><a href="/vuepress-doc/notesList/packages/" class="nav-link">
  NPM Packages
</a></li><li class="dropdown-subitem"><a href="/vuepress-doc/notesList/visualization/" class="nav-link">
  可视化
</a></li></ul></li><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-doc/notesList/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/vuepress-doc/notesList/javascript/" class="nav-link router-link-active">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/vuepress-doc/notesList/typescript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-subitem"><a href="/vuepress-doc/notesList/nodejs/" class="nav-link">
  Node.js
</a></li></ul></li><li class="dropdown-item"><h4>
          Vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-doc/notesList/vue/" class="nav-link">
  全家桶
</a></li><li class="dropdown-subitem"><a href="/vuepress-doc/vue2-source-code/prepare/" class="nav-link">
  Vue2源码学习
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/vuepress-doc/notes/" class="nav-link">
  笔记
</a></div><div class="nav-item"><a href="/vuepress-doc/interview/" class="nav-link">
  知识点
</a></div><div class="nav-item"><a href="/vuepress-doc/blogs/" class="nav-link">
  博客
</a></div><div class="nav-item"><a href="/vuepress-doc/plans/index2.html" class="nav-link">
  计划
</a></div> <a href="https://github.com/lins403/vuepress-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress-doc/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="系列笔记" class="dropdown-title"><span class="title">系列笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="系列笔记" class="mobile-dropdown-title"><span class="title">系列笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          综合
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-doc/notes/engineering/" class="nav-link">
  前端工程化
</a></li><li class="dropdown-subitem"><a href="/vuepress-doc/notesList/packages/" class="nav-link">
  NPM Packages
</a></li><li class="dropdown-subitem"><a href="/vuepress-doc/notesList/visualization/" class="nav-link">
  可视化
</a></li></ul></li><li class="dropdown-item"><h4>
          基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-doc/notesList/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-subitem"><a href="/vuepress-doc/notesList/javascript/" class="nav-link router-link-active">
  JavaScript
</a></li><li class="dropdown-subitem"><a href="/vuepress-doc/notesList/typescript/" class="nav-link">
  TypeScript
</a></li><li class="dropdown-subitem"><a href="/vuepress-doc/notesList/nodejs/" class="nav-link">
  Node.js
</a></li></ul></li><li class="dropdown-item"><h4>
          Vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/vuepress-doc/notesList/vue/" class="nav-link">
  全家桶
</a></li><li class="dropdown-subitem"><a href="/vuepress-doc/vue2-source-code/prepare/" class="nav-link">
  Vue2源码学习
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/vuepress-doc/notes/" class="nav-link">
  笔记
</a></div><div class="nav-item"><a href="/vuepress-doc/interview/" class="nav-link">
  知识点
</a></div><div class="nav-item"><a href="/vuepress-doc/blogs/" class="nav-link">
  博客
</a></div><div class="nav-item"><a href="/vuepress-doc/plans/index2.html" class="nav-link">
  计划
</a></div> <a href="https://github.com/lins403/vuepress-doc" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>总览</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-doc/notesList/javascript/" aria-current="page" class="sidebar-link">javascript...</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-doc/notesList/javascript/basic/base-types/type.html" class="sidebar-link">数据类型</a></li><li><a href="/vuepress-doc/notesList/javascript/basic/base-types/number.html" class="sidebar-link">Number</a></li><li><a href="/vuepress-doc/notesList/javascript/basic/base-types/string.html" class="sidebar-link">String</a></li><li><a href="/vuepress-doc/notesList/javascript/basic/base-types/array.html" class="sidebar-link">Array</a></li><li><a href="/vuepress-doc/notesList/javascript/basic/base-types/object.html" class="sidebar-link">Object</a></li><li><a href="/vuepress-doc/notesList/javascript/basic/base-types/function.html" aria-current="page" class="active sidebar-link">Function</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vuepress-doc/notesList/javascript/basic/base-types/function.html#原型" class="sidebar-link">原型</a></li><li class="sidebar-sub-header"><a href="/vuepress-doc/notesList/javascript/basic/base-types/function.html#基础" class="sidebar-link">基础</a></li><li class="sidebar-sub-header"><a href="/vuepress-doc/notesList/javascript/basic/base-types/function.html#应用" class="sidebar-link">应用</a></li><li class="sidebar-sub-header"><a href="/vuepress-doc/notesList/javascript/basic/base-types/function.html#skills技巧" class="sidebar-link">Skills技巧</a></li></ul></li><li><a href="/vuepress-doc/notesList/javascript/basic/reference.html" class="sidebar-link">引用类型</a></li><li><a href="/vuepress-doc/notesList/javascript/basic/call-apply.html" class="sidebar-link">call 与 apply</a></li><li><a href="/vuepress-doc/notesList/javascript/basic/regular.html" class="sidebar-link">正则表达式</a></li><li><a href="/vuepress-doc/notesList/javascript/basic/bom.html" class="sidebar-link">BOM</a></li><li><a href="/vuepress-doc/notesList/javascript/basic/dom.html" class="sidebar-link">DOM</a></li><li><a href="/vuepress-doc/notesList/javascript/basic/form.html" class="sidebar-link">Form表单</a></li><li><a href="/vuepress-doc/notesList/javascript/basic/event.html" class="sidebar-link">事件</a></li><li><a href="/vuepress-doc/notesList/javascript/basic/json.html" class="sidebar-link">JSON</a></li><li><a href="/vuepress-doc/notesList/javascript/basic/utils.html" class="sidebar-link">轮子</a></li><li><a href="/vuepress-doc/notesList/javascript/basic/error-analysis.html" class="sidebar-link">错误处理</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>ES6</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-doc/notesList/javascript/es6/" class="sidebar-link">ES6</a></li><li><a href="/vuepress-doc/notesList/javascript/es6/symbol.html" class="sidebar-link">Symbol</a></li><li><a href="/vuepress-doc/notesList/javascript/es6/promise.html" class="sidebar-link">Promise</a></li><li><a href="/vuepress-doc/notesList/javascript/es6/set-map.html" class="sidebar-link">Set 与 Map</a></li><li><a href="/vuepress-doc/notesList/javascript/es6/iterator-generator.html" class="sidebar-link">迭代器、生成器、async/await</a></li><li><a href="/vuepress-doc/notesList/javascript/es6/class.html" class="sidebar-link">类</a></li><li><a href="/vuepress-doc/notesList/javascript/es6/proxy-reflect.html" class="sidebar-link">代理与反射</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vuepress-doc/notesList/javascript/advanced/" class="sidebar-link">进阶</a></li><li><a href="/vuepress-doc/notesList/javascript/advanced/object-oriented.html" class="sidebar-link">面向对象</a></li><li><a href="/vuepress-doc/notesList/javascript/advanced/engine.html" class="sidebar-link">JavaScript引擎</a></li><li><a href="/vuepress-doc/notesList/javascript/advanced/execution-context.html" class="sidebar-link">执行上下文和作用域</a></li><li><a href="/vuepress-doc/notesList/javascript/advanced/memory-garbage-collection.html" class="sidebar-link">内存管理与垃圾回收</a></li><li><a href="/vuepress-doc/notesList/javascript/advanced/let-const.html" class="sidebar-link">let 和 const</a></li><li><a href="/vuepress-doc/notesList/javascript/advanced/design-pattern.html" class="sidebar-link">设计模式</a></li><li><a href="/vuepress-doc/notesList/javascript/advanced/libraries.html" class="sidebar-link">Libraries</a></li><li><a href="/vuepress-doc/notesList/javascript/advanced/binary.html" class="sidebar-link">二进制数据</a></li><li><a href="/vuepress-doc/notesList/javascript/advanced/animation.html" class="sidebar-link">动画</a></li><li><a href="/vuepress-doc/notesList/javascript/advanced/web-worker.html" class="sidebar-link">Web Worker</a></li><li><a href="/vuepress-doc/notesList/javascript/advanced/skills.html" class="sidebar-link">技巧</a></li><li><a href="/vuepress-doc/notesList/javascript/advanced/applications.html" class="sidebar-link">Web API</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="function"><a href="#function" class="header-anchor">#</a> Function</h1> <p>函数签名：接收参数的类型和数量</p> <p>ECMAScript没有函数重载</p> <p>JavaScript 语言的函数是一种独立的数据类型，以及采用基于原型对象（prototype）的继承链。这是它与 Java 语法最大的两点区别。JavaScript 语法要比 Java 自由得多。</p> <h2 id="原型"><a href="#原型" class="header-anchor">#</a> 原型</h2> <p>每个函数都有个<code>prototype</code>属性，其<code>constructor</code>属性指向函数自身；</p> <p>每个函数都连接到(原型指针指向) <code>Function.prototype</code>，而这个原型本身连接到 <code>Object.prototype</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
foo<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> foo		<span class="token comment">//true</span>
foo<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype		<span class="token comment">//true</span>
<span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype		<span class="token comment">//true</span>
</code></pre></div><h2 id="基础"><a href="#基础" class="header-anchor">#</a> 基础</h2> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 函数的属性和方法 .name，.length，.toString()，argument对象</span>
<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> <span class="token operator">...</span>params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//类数组对象</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">//函数标识符</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fun<span class="token punctuation">.</span>name<span class="token punctuation">)</span>	<span class="token comment">//'fun' </span>
<span class="token comment">//函数的命名参数（形参）个数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fun<span class="token punctuation">.</span>length<span class="token punctuation">)</span>	<span class="token comment">//2</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fun<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>函数名就是指向函数的指针，这意味着 一个函数可以有多个名称（<code>const foo=()=&gt;{ console.log('foo') }; const bar=foo; bar()</code>）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//123</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">foo</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">}</span>	<span class="token comment">//SyntaxError: Identifier 'foo' has already been declared</span>
</code></pre></div><h3 id="arguments-对象"><a href="#arguments-对象" class="header-anchor">#</a> <code>arguments</code> 对象</h3> <ul><li><code>arguments</code> 对象的值始终会与对应的<code>命名参数</code>同步，但只是同步，而并非访问同一个内存地址</li> <li>严格模式下，不会发生同步</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">doAdd</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> num2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">doAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>	<span class="token comment">// 11</span>

<span class="token comment">// arguments对象的长度是根据传入的参数个数，如果实参个数少于形参个数，那么arguments就不能同步修改</span>
<span class="token function">doAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>	<span class="token comment">//NaN	//(1+undefined)</span>
</code></pre></div><ul><li>使用默认参数值时，arguments不能与对应的命名参数同步</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">doAdd</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2<span class="token operator">=</span><span class="token number">0</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  arguments<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> num2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">doAdd</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>	<span class="token comment">// 3</span>
</code></pre></div><h4 id="arguments-callee"><a href="#arguments-callee" class="header-anchor">#</a> <code>arguments.callee</code></h4> <p><code>arguments.callee</code>属性包含当前正在执行的函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 适合在匿名函数中的递归使用</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>n <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> arguments<span class="token punctuation">.</span><span class="token function">callee</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> n
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// [1, 2, 6, 24, 120]</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 严格模式下无法使用`arguments.callee`</span>

<span class="token string">&quot;use strict&quot;</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>n <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> arguments<span class="token punctuation">.</span><span class="token function">callee</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> n
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// TypeError</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 使用命名函数表达式</span>
<span class="token comment">// 具有比访问arguments对象更好的性能</span>

<span class="token string">&quot;use strict&quot;</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">factorial</span> <span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>n <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token function">factorial</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>n
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="this对象"><a href="#this对象" class="header-anchor">#</a> <code>this</code>对象</h3> <ul><li>标准函数中，this引用的是把函数当成方法调用的上下文对象（我理解这是活动对象），所以this值在函数运行时才会被确定</li> <li>箭头函数中，this 会保留定义该函数时的上下文（词法分析时就确认了ThisBinding）</li> <li>apply()和 call() 可以控制函数调用上下文，即函数体内 this 值</li></ul> <h3 id="caller对象"><a href="#caller对象" class="header-anchor">#</a> <code>caller</code>对象</h3> <p>（非正式）返回调用指定函数的函数.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>inner<span class="token punctuation">.</span>caller<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> 

<span class="token function">outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ƒ outer() {</span>
<span class="token comment">//  inner();</span>
<span class="token comment">// }</span>

<span class="token function">inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">//null</span>
</code></pre></div><h3 id="函数传参"><a href="#函数传参" class="header-anchor">#</a> 函数传参</h3> <p>实际参数(arguments) 与 形式参数(parameters)</p> <p><strong>按值传参</strong></p> <ul><li>变量有按值和按引用访问，而函数传参则只有按值传递，不可能按引用传递参数。</li> <li>函数的参数就是局部变量</li></ul> <p>如果把对象作为参数传递，<strong>复制</strong>了参数在栈内存中的“指针”值，那么传递的值就是这个对象的引用（因为复制一个对象时是复制它栈内存中的内存地址，而不是堆内存上的分配的真实内存空间地址。）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	value <span class="token operator">=</span> <span class="token number">1</span>
	obj<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span>
  arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> v <span class="token operator">=</span> <span class="token string">'hello world'</span>
<span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'nihao'</span><span class="token punctuation">,</span> <span class="token string">'Hola'</span><span class="token punctuation">]</span>
<span class="token function">foo</span><span class="token punctuation">(</span>v<span class="token punctuation">,</span> o<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span>	<span class="token comment">//'hello world'，按值传递，所以传递的函数参数是独立的值</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span>	<span class="token comment">//{a: 1}，按值传递，所以传递的函数参数是独立的值，但传递的值是对o对象的引用值，即指针</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>	<span class="token comment">//['nihao', 'Hola']</span>
</code></pre></div><h3 id="函数声明与函数表达式"><a href="#函数声明与函数表达式" class="header-anchor">#</a> 函数声明与函数表达式</h3> <p>JavaScript引擎在加载数据时，对函数声明和函数表达式是区别对待的</p> <ul><li>JavaScript 引擎在任何代码执行之前（代码分析阶段？），会先读取函数声明，并在执行上下文中生成函数定义</li> <li>而函数表达式必须等到代码执行到它那一行，才会在执行上下文中生成函数定义</li></ul> <h4 id="_1-函数声明"><a href="#_1-函数声明" class="header-anchor">#</a> 1）函数声明</h4> <p><strong>函数声明提升</strong>(function declaration hoisting)：函数声明会在任何代码执行之前先被读取并添加到执行上下文，这意味着函数声明可以出现在调用它的代码之后。</p> <p>在执行代码时，JavaScript 引擎会先执行一遍扫描， 把发现的函数声明提升到源代码树的顶部。</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>	<span class="token comment">//20</span>
<span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_2-函数表达式"><a href="#_2-函数表达式" class="header-anchor">#</a> 2）函数表达式</h4> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>	<span class="token comment">//TypeError: sum is not a function</span>
<span class="token keyword">var</span> <span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> num1 <span class="token operator">+</span> num2
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">foo</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		<span class="token comment">//ReferenceError: bar is not defined</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token function">meili</span><span class="token punctuation">(</span><span class="token punctuation">)</span>		<span class="token comment">// meili</span>
<span class="token keyword">function</span> <span class="token function">meili</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;meili&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">mogu</span><span class="token punctuation">(</span><span class="token punctuation">)</span>	<span class="token comment">// TypeError: mogu is not a function</span>
<span class="token keyword">var</span> <span class="token function-variable function">mogu</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;mogu&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>适合用于需要条件判断的函数创建，还是下文中的递归</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 没问题</span>
<span class="token keyword">let</span> sayHi<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>condition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Hi!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Yo!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre></div><h2 id="应用"><a href="#应用" class="header-anchor">#</a> 应用</h2> <h3 id="递归"><a href="#递归" class="header-anchor">#</a> 递归</h3> <p>递归写法主要有如下三种：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">factorial</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> num <span class="token operator">*</span> <span class="token function">factorial</span><span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 改进一：arguments.callee</span>
<span class="token keyword">function</span> <span class="token function">factorial</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> num <span class="token operator">*</span> arguments<span class="token punctuation">.</span><span class="token function">callee</span><span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>

<span class="token comment">// 改进二：命名函数表达式(named function expression)</span>
<span class="token keyword">const</span> factorial <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> num <span class="token operator">*</span> <span class="token function">f</span><span class="token punctuation">(</span>num <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>再改进：严格模式下，JavaScript引擎会使用<strong>尾调用优化</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">factorial</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token parameter">num<span class="token punctuation">,</span> res<span class="token operator">=</span><span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>num <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">?</span> res<span class="token operator">:</span> <span class="token function">f</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> res<span class="token operator">*</span>num<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="尾调用优化"><a href="#尾调用优化" class="header-anchor">#</a> 尾调用优化</h3> <p>ECMAScript 6 规范新增了一项内存管理优化机制，让 JavaScript引擎在满足条件时可以重用栈帧，从而让嵌套函数被执行时，栈内存都只有一个栈帧（调用帧），条件如下：</p> <ol><li>代码在严格模式下执行;</li> <li>外部函数的返回值是对尾调用函数的调用</li> <li>尾调用函数返回后不需要执行额外的逻辑</li> <li>尾调用函数不是引用外部函数作用域中自由变量的闭包</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 有优化:栈帧销毁前执行参数计算 </span>
<span class="token keyword">function</span> <span class="token function">outerFunction1</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token keyword">return</span> <span class="token function">innerFunction</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 有优化:初始返回值不涉及栈帧 </span>
<span class="token keyword">function</span> <span class="token function">outerFunction2</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">&lt;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> a<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">innerFunction</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 有优化:两个内部函数都在尾部 </span>
<span class="token keyword">function</span> <span class="token function">outerFunction3</span><span class="token punctuation">(</span><span class="token parameter">condition</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> condition <span class="token operator">?</span> <span class="token function">innerFunctionA</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">innerFunctionB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 无优化:尾调用没有直接返回 </span>
<span class="token keyword">function</span> <span class="token function">outerFunction4</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> innerFunctionResult <span class="token operator">=</span> <span class="token function">innerFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> innerFunctionResult<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>优化需要运算的尾调用递归，栈内存中每次就只需要保存一个调用帧，所以可以节省栈空间，而且永远不会发生“栈溢出”错误</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 无优化:尾调用返回后还需要运算 - O(n)</span>
<span class="token keyword">function</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> n<span class="token punctuation">;</span> 
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">fib</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fib</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// workaround - O(1)</span>
<span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> a
  <span class="token keyword">return</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> a<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="闭包"><a href="#闭包" class="header-anchor">#</a> 闭包</h3> <p>闭包（closure）指的是那些引用了另一个函数作用域中变量的函数，通常是在嵌套函数中实现的。</p> <p><a href="/vuepress-doc/notesList/javascript/advanced/execution-context.html">执行上下文与作用域</a></p> <p>闭包的作用域链一直向外串起了所有包含函数的活动对象，直到全局执行上下文才终止。</p> <p>包含函数执行完毕后，其执行上下文的作用域链会销毁，但它的活动对象仍然会保留在内存中，直到闭包被销毁后才会被销毁。因此闭包比其他函数更占用内存。过度使用闭包可能导致内存过度占用，因此建议仅在十分必要时使用</p> <p>闭包经典实用场景（柯里化、防抖节流）</p> <ul><li>return函数</li> <li>函数作为参数</li> <li>IIFE自执行函数</li> <li>setTimeout</li> <li>所有的回调函数</li></ul> <h4 id="this指向"><a href="#this指向" class="header-anchor">#</a> this指向</h4> <p>如果内部函数没有使用箭头函数定义，则 this 对象会在运 行时绑定到执行函数的上下文</p> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span>identity <span class="token operator">=</span> <span class="token string">'The Window'</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
  identity<span class="token operator">:</span> <span class="token string">'My Object'</span><span class="token punctuation">,</span>
  <span class="token function">getIdentityFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> that <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>that<span class="token punctuation">.</span>identity<span class="token punctuation">)</span>	<span class="token comment">//'My Object'</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>identity<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object<span class="token punctuation">.</span><span class="token function">getIdentityFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'The Window'</span>
</code></pre></div><h3 id="立即调用函数"><a href="#立即调用函数" class="header-anchor">#</a> 立即调用函数</h3> <p>立即调用的匿名函数又被称作立即调用的函数表达式(IIFE，Immediately Invoked Function Expression)。</p> <p>把函数声明转成表达式的形式来执行函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">0</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'与数字相加变成表达式'</span><span class="token punctuation">)</span>

<span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">'利用逻辑运算符变成表达式'</span><span class="token punctuation">)</span>

<span class="token comment">// ...</span>
</code></pre></div><h4 id="模拟块作用域"><a href="#模拟块作用域" class="header-anchor">#</a> 模拟块作用域</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ES6引入块作用域以前，使用 IIFE 模拟块级作用域是相当普遍的</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
  <span class="token comment">// 块级作用域</span>
  <span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token string">'hello world'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span>	<span class="token comment">//ReferenceError: foo is not defined</span>
</code></pre></div><h4 id="锁定参数"><a href="#锁定参数" class="header-anchor">#</a> 锁定参数</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 使用IIFE锁定参数</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">j</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用let声明循环变量</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="函数记忆"><a href="#函数记忆" class="header-anchor">#</a> 函数记忆</h3> <p>memoization，利用闭包缓存运算结果，避免重复运算之前已经被处理的输入，以减少（递归）运算次数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> n
  <span class="token keyword">return</span> <span class="token function">fib</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fib</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 尾调用优化</span>
<span class="token keyword">function</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token parameter">n<span class="token punctuation">,</span> a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&lt;</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> a
  <span class="token keyword">return</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> a<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 函数记忆优化</span>
<span class="token keyword">function</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">const</span> memo <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">fib</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fib</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>
  memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> result
  <span class="token keyword">return</span> result
<span class="token punctuation">}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 封装通用模式</span>
<span class="token string">'use strict'</span>
<span class="token keyword">var</span> <span class="token function-variable function">memoizer</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">memo<span class="token punctuation">,</span> formula</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token function-variable function">recur</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">formula</span><span class="token punctuation">(</span>recur<span class="token punctuation">,</span> n<span class="token punctuation">)</span>
    memo<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> result
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> recur
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token parameter">recur<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">return</span> n
  <span class="token keyword">return</span> <span class="token function">recur</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">recur</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> fib_memo <span class="token operator">=</span> <span class="token function">memoizer</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> fib<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fib_memo</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="纯函数"><a href="#纯函数" class="header-anchor">#</a> 纯函数</h3> <ul><li>给定相同的输入，始终返回相同的输出（不能依赖任何外部可变状态，例如随机数、time）</li> <li>不会产生副作用（无法更改任何外部状态）</li></ul> <h2 id="skills技巧"><a href="#skills技巧" class="header-anchor">#</a> Skills技巧</h2> <h3 id="函数具名传参"><a href="#函数具名传参" class="header-anchor">#</a> 函数具名传参</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">func1</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> param1<span class="token punctuation">,</span> param2 <span class="token operator">...</span>params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>param1<span class="token punctuation">,</span> param2<span class="token punctuation">,</span> params<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">{</span>param1<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">,</span> param3<span class="token operator">:</span><span class="token string">'hello world'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// TypeError</span>

<span class="token comment">// 改进</span>
<span class="token keyword">const</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> param1<span class="token punctuation">,</span> param2<span class="token punctuation">,</span> <span class="token operator">...</span>params <span class="token punctuation">}</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>param1<span class="token punctuation">,</span> param2<span class="token punctuation">,</span> params<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// ✔️</span>
</code></pre></div><h3 id="eval"><a href="#eval" class="header-anchor">#</a> eval()</h3> <p>解释代码字符串并执行</p> <p>Function构造器也是eval的一种形式。</p> <p>setTimeout和setInterval函数，可以接受字符串参数或函数参数，如果传递的是字符串参数，则会像eval那样去处理。</p> <p>eval与eval相关的语法，非必要则不使用。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> msg <span class="token operator">=</span> <span class="token string">&quot;hello world&quot;</span><span class="token punctuation">;</span>
  <span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;console.log(msg)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// &quot;hello world&quot;</span>

<span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;function sayHi() { console.log('hi'); }&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">// &quot;hi&quot;，但严格模式下会报错</span>

<span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;let msg = 'hello world';&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Reference Error: msg is not defined</span>
</code></pre></div><p>在严格模式下，在 eval()内部创建的变量和函数无法被外部访问</p> <h3 id="函数柯里化"><a href="#函数柯里化" class="header-anchor">#</a> 函数柯里化</h3> <p>柯里化允许把函数与传递给它的参数相结合，产生出一个新的函数。函数式编程中使用较多。</p> <ul><li>动态创建函数，剥离重复的处理逻辑</li> <li>复用参数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">curry</span> <span class="token operator">=</span> <span class="token parameter">fn</span> <span class="token operator">=&gt;</span>
    <span class="token function-variable function">judge</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        args<span class="token punctuation">.</span>length <span class="token operator">===</span> fn<span class="token punctuation">.</span>length
            <span class="token operator">?</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
            <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">judge</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">,</span> arg<span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ES6递归+bind实现</span>
<span class="token keyword">function</span> <span class="token function">curry</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> fn<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> args<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">curry</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> fn<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="管道函数-简易版"><a href="#管道函数-简易版" class="header-anchor">#</a> 管道函数(简易版)</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">pipe</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>fns</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> fns<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">fn</span><span class="token punctuation">(</span>acc<span class="token punctuation">)</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>		<span class="token comment">//从左向右</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">pipe</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>ceil<span class="token punctuation">,</span> Math<span class="token punctuation">.</span>abs<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.49</span><span class="token punctuation">)</span><span class="token punctuation">)</span>	<span class="token comment">//1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">pipe</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>abs<span class="token punctuation">,</span> Math<span class="token punctuation">.</span>ceil<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.49</span><span class="token punctuation">)</span><span class="token punctuation">)</span>	<span class="token comment">//2</span>
</code></pre></div><h4 id="组合函数-复杂版"><a href="#组合函数-复杂版" class="header-anchor">#</a> 组合函数(复杂版)</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// https://github.com/reduxjs/redux/blob/master/src/compose.ts</span>
<span class="token keyword">function</span> <span class="token function">compose</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>funcs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>funcs<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token parameter">arg</span> <span class="token operator">=&gt;</span> arg<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>funcs<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> funcs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// return funcs.reduce((a, b) =&gt; (...args) =&gt; a(b(...args)))	//从右向左（reduceRight）</span>
  <span class="token keyword">return</span> funcs<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token function">a</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">composeMixins</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>mixins</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
  <span class="token parameter">instance <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  mix <span class="token operator">=</span> compose</span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">mix</span><span class="token punctuation">(</span><span class="token operator">...</span>mixins<span class="token punctuation">)</span><span class="token punctuation">(</span>instance<span class="token punctuation">)</span>
<span class="token function">composeMixins</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span>ceil<span class="token punctuation">,</span> Math<span class="token punctuation">.</span>abs<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.49</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">minus</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token operator">-</span>b
<span class="token keyword">const</span> <span class="token function-variable function">positive</span> <span class="token operator">=</span> <span class="token parameter">v</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span>v<span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> chains <span class="token operator">=</span> <span class="token function">compose</span><span class="token punctuation">(</span>minus<span class="token punctuation">,</span> positive<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">chains</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>	<span class="token comment">// true</span>
</code></pre></div><h3 id="偏函数"><a href="#偏函数" class="header-anchor">#</a> 偏函数</h3> <p>类似于Function.prototype.bind，区别在于不会传递this</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/lins403/vuepress-doc/edit/master/docs/notesList/javascript/basic/base-types/function.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/10/2022, 7:38:00 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vuepress-doc/notesList/javascript/basic/base-types/object.html" class="prev">
        Object
      </a></span> <span class="next"><a href="/vuepress-doc/notesList/javascript/basic/reference.html">
        引用类型
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/vuepress-doc/assets/js/app.9fb27f3b.js" defer></script><script src="/vuepress-doc/assets/js/2.92a218c7.js" defer></script><script src="/vuepress-doc/assets/js/112.72636f45.js" defer></script>
  </body>
</html>
